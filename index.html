<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vibe Ask√∏y</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#f3a0bc">
<link rel="apple-touch-icon" href="icon-192.png">

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  background:linear-gradient(160deg,#fde6ee,#fff3e4);
  padding-bottom:120px;
}

header{
  text-align:center;
  font-size:24px;
  font-weight:bold;
  padding:16px;
}

section{display:none;padding:16px;}
section.active{display:block;}

.card{
  background:#fff;
  border-radius:16px;
  padding:16px;
  margin-bottom:12px;
}

.video{position:relative;padding-bottom:56.25%;}
.video iframe{position:absolute;width:100%;height:100%;border-radius:12px;border:0;}

.staff{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}
.staff img{width:100%;border-radius:12px;}
.staff-name{text-align:center;font-weight:bold;margin-top:6px;}

.price-row,.row{
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px solid #eee;
}

#gameBoard{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
  margin-top:12px;
}

/* Bunnmeny */
.bottom-nav{
  position:fixed;
  bottom:0;left:0;
  width:100%;
  height:72px;
  background:#fff;
  display:flex;
  justify-content:space-around;
  align-items:center;
  border-top:1px solid #ddd;
  z-index:99999;
}
.bottom-nav button{
  background:none;
  border:none;
  font-size:12px;
}
.bottom-nav button.active{
  color:#FF4D8D;
  font-weight:bold;
}

input,textarea{
  width:100%;
  padding:8px;
  border-radius:10px;
  border:1px solid #ccc;
}
button.action{
  margin-top:10px;
  padding:12px;
  border:none;
  border-radius:25px;
  background:#FF4D8D;
  color:white;
  font-weight:bold;
  width:100%;
}
</style>
</head>

<body>

<header>VIBE ASK√òY</header>

<!-- LIVE -->
<section id="live" class="active">
  <div class="card">
    <h3>üî¥ Live</h3>
    <div class="video">
      <iframe src="https://www.youtube.com/embed/live_stream?channel=UC5bCGMPx1WhM3EgK8f6SJlw" allowfullscreen></iframe>
    </div>
    <a class="action" href="https://vibeaskyas.ordin.online/" target="_blank">
      ‚úÇÔ∏è Book h√•rklipp n√•
    </a>
  </div>
</section>

<!-- PRISER -->
<section id="prices">
  <div class="card">
    <h3>Prisliste</h3>
    <div class="price-row"><span>H√•rklipp</span><span>399</span></div>
    <div class="price-row"><span>Rask maskinklipp</span><span>189</span></div>
    <div class="price-row"><span>Skjegg</span><span>199</span></div>
    <div class="price-row"><span>Luggklipp</span><span>189</span></div>
    <div class="price-row"><span>Festivalstyling</span><span>399</span></div>
    <div class="price-row"><span>Vask og f√∏n</span><span>399</span></div>  </div>
</section>

<!-- ANSATTE -->
<section id="staff">
  <div class="card">
    <h3>V√•re ansatte</h3>
    <div class="staff">
      <div><img src="therese.jpg"><div class="staff-name">Therese</div></div>
      <div><img src="helene.jpg"><div class="staff-name">Helene</div></div>
      <div><img src="andrea.jpg"><div class="staff-name">Andrea</div></div>
      <div><img src="ilana.jpg"><div class="staff-name">Ilana</div></div>
      <div><img src="torill.jpg"><div class="staff-name">Torill</div></div>
      <div><img src="karmele.jpg"><div class="staff-name">Karmele</div></div>
      <div><img src="andrea.jpg"><div class="staff-name">Andrea</div></div>    </div>
  </div>
</section>

<!-- SPILL -->
<section id="game">
  <div class="card">
    <h3>üéÆ H√•r-Match</h3>
    <div id="gameBoard"></div>
    <p id="moves">Trekk: 0</p>
    <button class="action" onclick="resetGame()">Start p√• nytt</button>
  </div>
</section>

<!-- MIN H√ÖRREISE -->
<section id="journey">
  <div class="card">
    <h3>üì∏ Min h√•rreise</h3>
    <button class="action" onclick="openNewVisit()">‚ûï Nytt bes√∏k</button>
    <div id="journeyList"></div>
  </div>

  <div class="card" id="newVisit" style="display:none;">
    <h4>Nytt bes√∏k</h4>
    <p>F√∏r</p>
    <input type="file" accept="image/*" capture="camera" id="beforeInput">
    <img id="beforePreview" style="width:100%;border-radius:12px;margin-top:6px;">
    <p>Etter</p>
    <input type="file" accept="image/*" capture="camera" id="afterInput">
    <img id="afterPreview" style="width:100%;border-radius:12px;margin-top:6px;">
    <textarea id="visitNote" placeholder="Notat (valgfritt)"></textarea>
    <button class="action" onclick="saveVisit()">üíæ Lagre bes√∏k</button>
  </div>
</section>

<!-- INFO -->
<section id="info">
  <div class="card">
    <h3>üìç Finn oss</h3>
    <p>Gamle Kleppest√∏vegen 2<br>5300 Kleppest√∏</p>
    <iframe src="https://www.google.com/maps?q=Gamle+Kleppest√∏vegen+2,+5300+Kleppest√∏&output=embed"
      width="100%" height="200" style="border:0;border-radius:12px;"></iframe>
  </div>
</section>

<!-- MENY -->
<nav class="bottom-nav">
  <button onclick="show('live', this)" class="active">Live</button>
  <button onclick="show('prices', this)">Priser</button>
  <button onclick="show('staff', this)">Ansatte</button>
  <button onclick="show('game', this)">Spill</button>
  <button onclick="show('journey', this)">Min h√•rreise</button>
  <button onclick="show('info', this)">Info</button>
</nav>

<script>
function show(id,btn){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll(".bottom-nav button").forEach(b=>b.classList.remove("active"));
  document.getElementById(id)?.classList.add("active");
  btn?.classList.add("active");
}

/* Spill */
const icons=["‚úÇÔ∏è","üíá‚Äç‚ôÄÔ∏è","üíà","ü™Æ","‚úÇÔ∏è","üíá‚Äç‚ôÄÔ∏è","üíà","ü™Æ"];
let first=null,lock=false,moves=0;

function setupGame(){
  const b=document.getElementById("gameBoard");
  if(!b) return;
  b.innerHTML="";moves=0;
  document.getElementById("moves").innerText="Trekk: 0";
  [...icons].sort(()=>0.5-Math.random()).forEach(i=>{
    const c=document.createElement("div");
    c.innerText="‚ùì";
    c.style="padding:18px;font-size:28px;background:#fff;border-radius:12px;text-align:center;cursor:pointer";
    c.onclick=()=>flip(c,i);
    b.appendChild(c);
  });
}
function flip(c,i){
  if(lock||c.innerText!=="‚ùì")return;
  c.innerText=i;
  if(!first) first=c;
  else{
    moves++;document.getElementById("moves").innerText="Trekk: "+moves;
    if(first.innerText!==c.innerText){
      lock=true;
      setTimeout(()=>{first.innerText=c.innerText="‚ùì";first=null;lock=false;},700);
    } else first=null;
  }
}
function resetGame(){setupGame();}

/* Min h√•rreise */
let visits=JSON.parse(localStorage.getItem("journeyVisits")||"[]");

function openNewVisit(){
  document.getElementById("newVisit").style.display="block";
}

function preview(input,img){
  const f=input.files[0]; if(!f) return;
  const r=new FileReader();
  r.onload=e=>img.src=e.target.result;
  r.readAsDataURL(f);
}
beforeInput?.addEventListener("change",e=>preview(e.target,beforePreview));
afterInput?.addEventListener("change",e=>preview(e.target,afterPreview));

function saveVisit(){
  if(!beforePreview.src||!afterPreview.src) return alert("Ta b√•de f√∏r- og etterbilde");
  visits.unshift({
    date:new Date().toLocaleDateString(),
    before:beforePreview.src,
    after:afterPreview.src,
    note:visitNote.value
  });
  localStorage.setItem("journeyVisits",JSON.stringify(visits));
  newVisit.style.display="none";
  beforePreview.src=afterPreview.src=visitNote.value="";
  renderVisits();
}
function renderVisits(){
  journeyList.innerHTML="";
  visits.forEach(v=>{
    journeyList.innerHTML+=`
      <div class="card">
        <strong>${v.date}</strong>
        <div style="display:flex;gap:6px;margin-top:6px;">
          <img src="${v.before}" style="width:50%;border-radius:10px;">
          <img src="${v.after}" style="width:50%;border-radius:10px;">
        </div>
        <p>${v.note||""}</p>
      </div>`;
  });
}

document.addEventListener("DOMContentLoaded",()=>{
  show("live",document.querySelector(".bottom-nav button"));
  setupGame();
  renderVisits();
  if("serviceWorker"in navigator){
    navigator.serviceWorker.register("sw.js");
  }
});
</script>

</body>
</html>


